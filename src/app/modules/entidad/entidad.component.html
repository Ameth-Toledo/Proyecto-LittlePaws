<app-header-entidad nameEntidad="Huellitas" class="header-entidad"></app-header-entidad>

<div class="layout">
  <button class="hamburger-menu" (click)="toggleSidebar()">
    <i class="fas fa-bars"></i>
  </button>

  <div class="side-bar" [ngClass]="{ 'open': isSidebarOpen }">
    <button class="close-button" (click)="toggleSidebar()">
      <i class="fas fa-times"></i>
    </button>
    <ul class="side-bar-content">
      <li class="side-bar-item" (click)="openModal('Bandeja')">
        <i class="fas fa-inbox"></i> Bandeja
      </li>
      <li class="side-bar-item" (click)="openModalDenuncias('Denuncias')">
        <i class="fas fa-exclamation-circle"></i> Denuncias
      </li>
      <li class="side-bar-item" (click)="openModalAdd('Agregar')"><i class="fas fa-plus-circle"></i> Agregar Mascotas</li>
      <li class="side-bar-item" (click)="openModalView('Ver')"><i class="fas fa-eye"></i> Ver Mascotas</li>
      <li class="side-bar-item"><i class="fas fa-edit"></i> Editar Mascotas</li>
      <li class="side-bar-item"><i class="fas fa-trash-alt"></i> Eliminar Mascotas</li>
    </ul>
  </div>


  <div class="modal-content">

    <!--modal mensajess-->
    <div class="bandeja-entidad-modal" *ngIf="isModalOpen && activeModal === 'Bandeja'">
        <h1 class="tittle-entidad-section">LittlePaws - Mensajería</h1>
        
        <div class="message-list">
          <div class="message-preview" *ngFor="let message of messages" (click)="openMessage(message)">
            <img [src]="message.userImage" alt="User Image" class="user-image">
            <div class="message-info">
              <h3 class="sender-name">{{ message.senderName }}</h3>
              <p class="message-snippet">{{ message.snippet }}</p>
            </div>
          </div>
        </div>

        <div *ngIf="selectedMessage" class="message-detail">
          <h2 class="sender-name">{{ selectedMessage.senderName }}</h2>
          <p class="message-content">{{ selectedMessage.content }}</p>
          <div *ngIf="replyMessage">
              <h3 class="response-header">Tu Respuesta:</h3>
              <p class="message-response">{{ replyMessage }}</p>
          </div>
      
          <div class="message-reply">
              <textarea [(ngModel)]="replyMessage" placeholder="Escribe tu respuesta..."></textarea>
              <button class="btn-send" (click)="sendMessage()">Enviar</button>
          </div>
      </div>
    </div>

    <div class="denuncias-modal-entidad" *ngIf="isModalOpen && activeModal === 'Denuncias'">
      <app-card-denuncias/>
    </div>

    <!--modal add mascotassss-->
    <div class="agregar-mascotas-modal" *ngIf="isModalOpen && activeModal === 'Agregar'">
      <div class="form-veterinaria-register">
        <form action="">
          <div class="form-left">
            <label for="refugio-name" class="label-form">Ingrese el nombre del refugio</label>
            <input type="text" id="refugio-name" name="name" required class="input-field" />
      
            <label for="refugio-phone" class="label-form">Ingrese el número de teléfono del refugio</label>
            <input type="text" id="refugio-phone" name="phone" required class="input-field" />
      
            <label for="refugio-email" class="label-form">Ingrese el email del refugio</label>
            <input type="email" id="refugio-email" name="email" required class="input-field"/>
      
            <label for="refugio-address" class="label-form">Ingrese la dirección del refugio</label>
            <input type="text" id="refugio-address" name="address" required class="input-field"/>
      
            <label for="refugio-hours" class="label-form">Ingrese el horario de atención del refugio</label>
            <input type="text" id="refugio-hours" name="hours" required class="input-field"/>
            
            <label for="refugio-location" class="label-form">Ingrese la ubicación del refugio</label>
            <input type="text" id="refugio-location" name="location" required class="input-field"/>

            <button type="submit" class="btn-enviar-registro">Enviar datos</button>
          </div>
        </form>
      </div>
    </div>
    
    <div class="ver-mascotas-modal" *ngIf="isModalOpen && activeModal === 'Ver'">
      <app-card-animales
        imgSrc="perros/perro02.jpg"
        title="Pepito"
        namaPet="Pepito"
        refugio="Albania"
        edad="2 años"
        raza="desconocido"/>

        <app-card-animales
        imgSrc="perros/perro02.jpg"
        title="Pepito"
        namaPet="Pepito"
        refugio="Albania"
        edad="2 años"
        raza="desconocido"/>

        <app-card-animales
        imgSrc="perros/perro02.jpg"
        title="Pepito"
        namaPet="Pepito"
        refugio="Albania"
        edad="2 años"
        raza="desconocido"/>

        <app-card-animales
        imgSrc="perros/perro02.jpg"
        title="Pepito"
        namaPet="Pepito"
        refugio="Albania"
        edad="2 años"
        raza="desconocido"/>
    </div>
  </div>
</div>

<app-footer class="footer-entidad"></app-footer>
